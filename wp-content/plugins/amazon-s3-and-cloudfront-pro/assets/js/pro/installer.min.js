!function(s,a,i){function n(a){var i=s("<span />",{class:"spinner"});return i.css({display:"inline-block",float:"none",visibility:"visible"}),i.insertAfter(a),i}s(document).ready(function(){var a=s(".as3cf-pro-installer-notice").last();s(".as3cfpro-installer-filesystem-creds").insertAfter(a),s(".as3cfpro-installer-filesystem-creds form").on("submit",function(a){var i=s("#upgrade");i.hasClass("button-disabled")||(i.addClass("button-disabled"),i.val(as3cfpro_installer.strings.installing+"..."),n(i))}),s("body").on("click",".as3cf-pro-installer .install-plugins",function(a){if(a.preventDefault(),!s(this).hasClass("button-disabled")){s(this).addClass("button-disabled"),s(this).text(as3cfpro_installer.strings.installing+"...");var t=n(this),r=s(this).data("process");s.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"as3cfpro_install_plugins_"+r,nonce:as3cfpro_installer.nonces.install_plugins},error:function(s,a,i){e(i+" - "+a)},success:function(s){i.isObject(s)&&!i.isUndefined(s.success)&&(s.success&&(window.location.href=s.data.redirect),i.isUndefined(s.data.error)||e(s.data.error))}})}function e(a){var i='<div class="error"><p>'+(as3cfpro_installer.strings.error_installing+": "+a)+"</p></div>";s(".as3cf-pro-installer").after(i),s(".as3cf-pro-installer").remove(),t.hide()}})})}(jQuery,wp,_);